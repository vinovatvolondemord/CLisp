# F#
### Введение

F# — это мультипарадигменный язык программирования, разработанный в подразделении Microsoft Research и предназначенный для исполнения на платформе Microsoft .NET. Он сочетает в себе выразительность функциональных языков, таких как OCaml и Haskell с возможностями и объектной моделью .NET. 

В 2002 г. Доном Саймом (Don Syme) в Microsoft Research в Кембридже был разработан язык, на базе семейства ML языков подходящий для реализации функциональной парадигмы на платформе .NET.

В 2005 году появилась его первая версия. С тех пор вокруг F# стало формироваться сообщество. За счёт поддержки функциональной парадигмы язык оказался востребован в научной сфере и финансовых организациях. Во многом благодаря этому Microsoft решила перевести F# из статуса исследовательских проектов в статус поддерживаемых продуктов и поставить его в один ряд с основными языками платформы .NET. 
 
###  Начало работы
F# является мультипарадигменным языком, а это значит, что на нём можно реализовывать функции высших порядков, внутри которых исполнять императивный код и обёртывать всё это в классы для использования клиентами, написанными на других языках на платформе .NET.

Исполняемый файл ```fsi.exe ```, входящий в комплект поставки F#, представляет собой интерактивную консоль, эдакий **REPL**, в которой можно быстро проверить работоспособность отдельных фрагментов кода на F#.

Исполняемый файл ```fsi.exe ``` — непосредственно компилятор исходного кода F#, который можно использовавть с любым текстоым редактором

Файлы, содержащие код на F#, обычно имеют следующие расширения:

-    ```.fs``` — обычный файл с кодом, который может быть скомпилирован;
-   ```.fsi``` — файл описания публичного интерфейса модуля. Обычно генерируется компилятором на основе кода, а затем редактируется вручную;
-   ```.fsx``` — исполняемый скрипт. Может быть запущен прямо из Windows Explorer при помощи соответствующего пункта всплывающего меню или передан на исполнение в интерактивную консоль ```fsi.exe```. 

### Основные возможности языка

F# предоставляет полный набор инструментов функционального программирования: здесь есть алгебраические типы данных и функции высшего порядка, средства для композиции функций и неизменяемые структуры данных, а также частичное применение на пару с каррированием.

В случаях, когда богатых функциональных возможностей не хватает, F# предоставляет разработчику возможность использовать в коде прелести изменяемого состояния. Это как непосредственно изменяемые переменные, поддержка полей и свойств объектов стандартной библиотеки, так и явные циклы, а также изменяемые коллекции и типы данных.

Объектно-ориентированные возможности F#, как и многое другое в этом языке, обусловлены необходимостью предоставить разработчикам возможность использовать стандартную библиотеку классов .NET Framework. С поставленной задачей язык вполне справляется: можно как использовать библиотеки классов, реализованные на других .NET языках, так и разрабатывать свои собственные. Следует отметить, однако, что некоторые возможности ОО языков реализованы не самым привычным образом.

Подобное смешение парадигм, с одной стороны, может привести к плачевным результатам, а с другой — предоставляет больше гибкости и позволяет писать более простой код. Так, например, внутри стандартной библиотеки F# некоторые функции написаны в императивном стиле в целях оптимизации скорости исполнения.

### Система типов

 Каждая переменная, выражение или функция в F# имеет тип. Можно считать, что тип — это некий контракт, поддерживаемый всеми объектами данного типа. К примеру, тип переменной однозначно определяет диапазон значений этой переменной; тип функции говорит о том, какие параметры она принимает и значение какого типа она возвращает; тип объекта определяет то, как этот объект может быть использован.

F# — статически типизированный язык. Это означает, что тип каждого выражения известен на этапе компиляции, и позволяет отслеживать ошибки, связанные с неправильным использованием объектов определенного типа, до запуска программы. Помимо этого, F# — язык программирования со строгой типизацией, а значит, в выражениях отсутствует неявное приведение типов. Попытка использовать число с плавающей точкой там, где компилятор ожидает увидеть целое, приведет к ошибке компиляции.


Как и любой другой .NET-язык, F# поддерживает множество примитивных типов .NET, таких как ```System.Byte```, ```System.Int32``` и ```System.Char```, для них можно исползовать псевдонимы **byte**, **int** и **char** соответственно.

Чтобы различать числовые литералы разных типов, используются суффиксы:
-    **uy** — для значений типа ```System.Byte```;
-    **s** — для ```System.Int16```;
-   **u** — для ```System.UInt32```;
-   и др., с полным списком можно ознакомиться на странице документации. 

Помимо прочего существует единственное значение типа ```unit```, обозначаемое **()**. Оно обозначает отсутствие результата исполнения функции, аналогично ```void``` в C# или C++.

 Функции в F# также имеют тип, обозначение которого выглядит, например, так:
```
string -> string -> string
```
Такая запись означает функцию, принимающую на входе два параметра типа **string**, и возвращающую **string** в качестве результата.

Типы шаблонных функций записываются аналогично:
```
'a -> 'b -> 'c
```
Заметьте, что вместо указания конкретных типов значений используются просто метки. Данное описание типа аналогично (но не идентично) следующему делегату из C#:
```
delegate C MyFunction<A, B, C>(A a, B b);
```
Это любая функция двух аргументов, которая возвращает некоторое значение. Типы A, B и C могут быть разными, но могут и совпадать.

Сопоставление имени и значения (присваивание) производится при помощи оператора связывания **let**:
```
> let value = 42;;
val value : int = 4
```
### Области применения F#:

- Симуляция.
- Вычислительные финансы.
- Обработка крупномасштабных данных.
- Языково-ориентированное программирование.
- Написание анализаторов кода.
- Расширяемый F# код.
- Многопоточное программирование.
- Параллельное программирование.
- Асинхронное программирование.

Примером использования F# является коммерческий продукт WebSharper фирмы IntelliFactory. Это платформа для создания клиентских web-приложений. Она позволяет писать клиентский код на F#, который затем будет оттранслирован на JavaScript. Такая трансляция распространяется на достаточное большое подмножество F#, включая функциональное ядро языка, алгебраические типы данных, классы, объекты, исключения и делегаты.
